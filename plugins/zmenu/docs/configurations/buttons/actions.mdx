---
sidebar_position: 3
title: Actions
description: Complete reference for all action types in zMenu
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Actions

Actions are commands executed when a player interacts with a button. zMenu provides 28+ action types for various purposes.

## Basic Usage

```yaml
items:
  my-button:
    slot: 0
    item:
      material: DIAMOND
    actions:
      - type: message
        messages:
          - "&aHello, %player%!"
      - type: sound
        sound: UI_BUTTON_CLICK
```

## Message Actions

<Tabs>
    <TabItem value="message" label="message">

        ```yaml
        - type: message
          messages:
          - "&aLine 1"
          - "&bLine 2"
          minimessage: true  # Optional: Use MiniMessage format default: true
        ```

    </TabItem>
    <TabItem value="messages" label="messages (Alias)">

        ```yaml
        - type: messages
          messages:
          - "&aMultiple lines"
          - "&bOf text"

        ```

    </TabItem>
</Tabs>

---

### message-to

Send a message to a specific player.

```yaml
- type: message-to
  player: "Notch"
  messages:
    - "&aHello from %player%!"
```

---

### broadcast

Send a message to all online players.

```yaml
- type: broadcast
  messages:
    - "&6[Announcement] &f%player% purchased a special item!"
  minimessage: true  # Optional: Use MiniMessage format (default: true)
```

---

### action-bar

Display an action bar message.

<Tabs>
    <TabItem value="action" label="action">

        ```yaml
        - type: action
          message: "&aWelcome to the shop!"
        ```

    </TabItem>
    <TabItem value="action_bar" label="actionbar (Alias)">

        ```yaml
        - type: action_bar
          message: "&aWelcome to the shop!"
        ```

    </TabItem>
</Tabs>

---

### title

Display a title and subtitle.

```yaml
- type: title
  title: "&6&lWelcome!"
  subtitle: "&7Enjoy your stay"
  start: 20      # Ticks
  duration: 60   # Ticks
  end: 20        # Ticks
```

---

### toast

Display a toast notification (achievement popup).

<Tabs>
    <TabItem value="toast" label="toast">

        ```yaml
        - type: "toast"
          icon: DIAMOND
          message: "&aAchievement Unlocked!"
          frame: TASK  # TASK, GOAL, or CHALLENGE
        ```

    </TabItem>
    <TabItem value="send toast" label="send-toast (Alias)">

        ```yaml
        - type: "send toast"
          icon: DIAMOND
          message: "&aAchievement Unlocked!"
          frame: TASK  # TASK, GOAL, or CHALLENGE
        ```

    </TabItem>
</Tabs>

## Sound Actions

### sound

Play a sound to the player.

```yaml
- type: sound
  sound: ENTITY_EXPERIENCE_ORB_PICKUP
  pitch: 1.0    # 0.5 to 2.0
  volume: 1.0   # Distance
  sound-category: MASTER  # Optional sound category
```

**Common Sounds:**
- `UI_BUTTON_CLICK`
- `ENTITY_EXPERIENCE_ORB_PICKUP`
- `ENTITY_PLAYER_LEVELUP`
- `ENTITY_VILLAGER_YES`
- `ENTITY_VILLAGER_NO`
- `BLOCK_NOTE_BLOCK_PLING`
- `BLOCK_CHEST_OPEN`
- `BLOCK_CHEST_CLOSE`

:::tip Sound Reference
View the complete list of available sounds in the [Bukkit Sound JavaDocs](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/Sound.html).
:::

---

### broadcast-sound

Play a sound to all online players.

<Tabs>
    <TabItem value="broadcast_sound" label="broadcast_sound">

        ```yaml
        - type: broadcast-sound
          sound: ENTITY_ENDER_DRAGON_DEATH
          pitch: 1.0
          volume: 1.0
          sound-category: MASTER # Optional
        ```

    </TabItem>
    <TabItem value="broadcast sound" label="broadcast sound">

        ```yaml
        - type: "broadcast sound"
          sound: ENTITY_ENDER_DRAGON_DEATH
          pitch: 1.0
          volume: 1.0
          sound-category: MASTER # Optional
        ```

    </TabItem>
</Tabs>

## Command Actions

### player-command

Execute a command as the player.

```yaml
- type: player-command
  commands:
    - "spawn"
    - "kit starter"
  command-in-chat: false  # Optional: execute via chat instead of dispatch (default: false)
```

---

### player-command-as-op

Execute a command as the player with OP permissions.

```yaml
- type: player-command-as-op
  commands:
    - "gamemode creative"
```

:::warning
Use with caution! This gives the player temporary OP-level access.
:::

---

### console-command

Execute a command from the console.

```yaml
- type: console-command
  commands:
    - "give %player% diamond 64"
    - "eco give %player% 1000"
```

---

### player-chat

Force the player to send a chat message.

```yaml
- type: player-chat
  messages:
    - "Hello everyone!"
```

---

### random-player-command

:::info zMenu+
This action requires [zMenu+](https://minecraft-music-inventory.com/resources/zmenu.music.331).
:::

Execute a random selection of commands as the player from a list. The commands are selected **without replacement** (no duplicates in a single execution).

```yaml
- type: random_player_command
  commands:
    - "say I got option 1!"
    - "say I got option 2!"
    - "say I got option 3!"
    - "say I got option 4!"
  amount: 1               # Number of commands to randomly execute (default: 1)
  command-in-chat: false   # Optional: execute via chat instead of dispatch (default: false)
```

**Options:**

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `commands` | List | Required | List of commands to randomly select from |
| `amount` | Integer | `1` | Number of random commands to execute |
| `command-in-chat` | Boolean | `false` | If `true`, sends via `player.chat()`; if `false`, dispatches as command |

**Aliases:** `random_player_command`, `random_player_commands`, `random-player-command`, `random-player-commands`

---

### random-console-command

:::info zMenu+
This action requires [zMenu+](https://minecraft-music-inventory.com/resources/zmenu.music.331).
:::

Execute a random selection of console commands from a list. The commands are selected **without replacement** (no duplicates in a single execution). Supports the `%player%` placeholder.

```yaml
- type: random_console_command
  commands:
    - "give %player% diamond 1"
    - "give %player% emerald 1"
    - "give %player% gold_ingot 1"
    - "give %player% iron_ingot 1"
  amount: 2    # Execute 2 random commands from the list
```

**Options:**

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `commands` | List | Required | List of console commands to randomly select from |
| `amount` | Integer | `1` | Number of random commands to execute |

**Aliases:** `random_console_command`, `random_console_commands`, `random-console-command`, `random-console-commands`, `random-command`, `random-commands`

## Inventory Actions

### inventory

Open another inventory.

```yaml
- type: inventory
  inventory: "shop"
  page: 1          # Optional: specific page
  arguments:       # Optional: pass arguments
    - "arg1"
```

---

### close

Close the current inventory.

```yaml
- type: close
```

---

### back

Go back to the previous inventory.

```yaml
- type: back
```

---

### refresh

Refresh the current button.

```yaml
- type: refresh
```

---

### refresh-inventory

Refresh the entire inventory (redraw all buttons).

```yaml
- type: refresh-inventory
```

## Player Actions

### teleport

Teleport the player to coordinates.

```yaml
- type: teleport
  world: "world"
  x: 0
  y: 100
  z: 0
  yaw: 0       # Optional
  pitch: 0     # Optional
```

---

### connect

Connect the player to another server (BungeeCord/Velocity).

```yaml
- type: connect
  server: "lobby"
```

## Data Actions

### data

Modify player data values.

```yaml
- type: data
  action: SET       # SET, ADD, SUBTRACT, MULTIPLY, DIVIDE, REMOVE
  key: "coins"
  value: "100"
  math: true        # Optional: enable math expressions
```

**Actions:**

| Action | Description | Example |
|--------|-------------|---------|
| `SET` | Set to specific value | `value: "100"` |
| `ADD` | Add to current value | `value: "50"` |
| `SUBTRACT` | Subtract from current | `value: "25"` |
| `MULTIPLY` | Multiply current value | `value: "2"` |
| `DIVIDE` | Divide current value | `value: "2"` |
| `REMOVE` | Remove the key entirely | - |

**Math expressions:**
```yaml
- type: data
  action: ADD
  key: "total"
  value: "%zmenu_player_value_base%*1.5"
  math: true
```

## Economy Actions

### currency-deposit

Add money to player's balance.

```yaml
- type: currency-deposit
  amount: 100
  reason: "Reward"    # Optional
```

---

### currency-withdraw

Remove money from player's balance.

```yaml
- type: currency-withdraw
  amount: 50
  reason: "Purchase"  # Optional
```

## Book Action

### book

Open a written book for the player.

```yaml
- type: book
  author: "Server"
  title: "&6Welcome Book"
  pages:
    - |
      &6Welcome!

      &7This is page 1
      of our welcome book.
    - |
      &6Page 2

      &7More content here.
```

## Dialog Action

### dialog

Open a dialog popup. Dialogs provide a modern UI experience with forms, confirmations, and interactive buttons.

:::warning Requirements
Dialogs require **Paper 1.21.4+** and [PacketEvents](https://github.com/retrooper/packetevents) installed on your server.
:::

```yaml
- type: dialog
  dialog: "confirmation"
```

**With arguments:**
```yaml
- type: dialog
  dialog: "purchase-confirm"
  arguments:
    - "diamond_sword"
    - "500"
```

**From external plugin:**
```yaml
- type: dialog
  dialog: "custom-dialog"
  plugin: "MyPlugin"
```

**Options:**

| Option | Type | Description |
|--------|------|-------------|
| `dialog` | String | Name of the dialog file (without .yml) |
| `plugin` | String | Plugin name if using external dialog |
| `arguments` | List | Arguments to pass to the dialog |

See [Dialogues](../dialogues) for complete dialog configuration documentation.

## Discord Actions

### discord

Send a message to a Discord webhook.

```yaml
- type: discord
  webhook: "https://discord.com/api/webhooks/..."
  content: "%player% made a purchase!"
  username: "Shop Bot"          # Optional
  avatar_url: "https://..."     # Optional
```

---

### discord-component

Send a Discord message with buttons/components.

```yaml
- type: discord-component
  webhook: "https://discord.com/api/webhooks/..."
  embeds:
    - title: "New Purchase"
      description: "%player% bought an item"
      color: "#00FF00"
```

## Integration Actions

### luckperm-set

Modify LuckPerms permissions/groups.

```yaml
- type: luckperm-set
  group: "vip"
  duration: 2592000  # Seconds (30 days)
```

---

### shopkeeper

Interact with Shopkeepers plugin.

```yaml
- type: shopkeeper
  name: "shop_name"
```

## Complete Examples

### Purchase with Feedback

```yaml
items:
  buy-item:
    slot: 13
    item:
      material: DIAMOND_SWORD
      name: "&6&lDiamond Sword"
      lore:
        - "&7Price: &a$500"
    click-requirement:
      requirements:
        - type: placeholder
          value: "%vault_eco_balance%"
          compare: ">="
          number: 500
          deny:
            - type: message
              messages:
                - "&cYou need $500!"
            - type: sound
              sound: ENTITY_VILLAGER_NO
      success:
        - type: currency-withdraw
          amount: 500
        - type: console-command
          commands:
            - "give %player% diamond_sword 1"
        - type: message
          messages:
            - "&aPurchase successful!"
        - type: sound
          sound: ENTITY_PLAYER_LEVELUP
        - type: close
```

### Toggle Setting with Data

```yaml
items:
  toggle:
    slot: 22
    type: SWITCH
    placeholder: "%zmenu_player_value_setting%"
    buttons:
      "on":
        item:
          material: LIME_DYE
          name: "&a&lSetting: ON"
        actions:
          - type: data
            action: SET
            key: "setting"
            value: "off"
          - type: message
            messages:
              - "&7Setting turned &cOFF"
          - type: sound
            sound: UI_BUTTON_CLICK
          - type: refresh
      "off":
        item:
          material: GRAY_DYE
          name: "&7&lSetting: OFF"
        actions:
          - type: data
            action: SET
            key: "setting"
            value: "on"
          - type: message
            messages:
              - "&7Setting turned &aON"
          - type: sound
            sound: UI_BUTTON_CLICK
          - type: refresh
```

### Multi-Action Button

```yaml
items:
  reward:
    slot: 13
    item:
      material: CHEST
      name: "&e&lDaily Reward"
    actions:
      - type: console-command
        commands:
          - "give %player% diamond 5"
      - type: currency-deposit
        amount: 1000
      - type: data
        action: SET
        key: "last_reward"
        value: "%zmenu_time_unix_timestamp%"
      - type: title
        title: "&6&lReward Claimed!"
        subtitle: "&75 Diamonds + $1000"
      - type: sound
        sound: ENTITY_PLAYER_LEVELUP
      - type: broadcast
        messages:
          - "&6%player% &7claimed their daily reward!"
      - type: close
```

## Action Order

Actions execute in the order they're listed. If you need to close the inventory after a teleport, put `close` before `teleport`:

```yaml
actions:
  - type: close
  - type: teleport
    world: "world"
    x: 0
    y: 100
    z: 0
```

## Using Actions in Requirements

Actions can also be used in `deny` and `success` blocks of requirements:

```yaml
click-requirement:
  requirements:
    - type: permission
      permission: "server.vip"
      deny:
        - type: message
          messages:
            - "&cYou need VIP!"
  success:
    - type: message
      messages:
        - "&aAccess granted!"
```

## Quick Reference Table

| Action | Description |
|--------|-------------|
| `message` | Send message to player |
| `broadcast` | Send message to all |
| `action-bar` | Show action bar |
| `title` | Show title/subtitle |
| `toast` | Show achievement toast |
| `sound` | Play sound |
| `player-command` | Run command as player |
| `console-command` | Run command as console |
| `random-player-command` | Run random command(s) as player (zMenu+) |
| `random-console-command` | Run random console command(s) (zMenu+) |
| `inventory` | Open inventory |
| `close` | Close inventory |
| `back` | Go back |
| `refresh` | Refresh button |
| `teleport` | Teleport player |
| `connect` | Change server |
| `data` | Modify player data |
| `currency-deposit` | Add money |
| `currency-withdraw` | Remove money |

## Next Steps

- Learn about [Player Data](../player-data) for storing values
- See [Requirements](./button#requirements) for conditional actions
- Create [Patterns](../patterns) with default actions
